<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">
<h:head>
	<title>Dashboard Template for BootsFaces</title>
	<meta name="author" content="Riccardo Massera"></meta>

</h:head>
<h:body style="padding-top: 60px">
	<h:outputScript library="holder" name="holder.js" />
	<!--script src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.5.2/holder.min.js"></script-->
	<b:navBar brand="Project name" brandHref="#" inverse="true" fixed="top"
		fluid="true">

		<b:navbarLinks pull="right">
			<b:navLink value="Profile" href="/template/Back/Profile.jsf"></b:navLink>
		</b:navbarLinks>
		<h:form styleClass="navbar-form navbar-right">
			<div class="form-group">
				<b:inputText placeholder="Search..." fieldSize="sm" />
			</div>
		</h:form>
	</b:navBar>
	<b:container fluid="true">
		<b:row>
			<b:column col-sm="3" col-md="2" styleClass="sidebar">
				<b:listLinks>
					
					    <b:navLink header="Dasboard Links" />
                        <b:navLink href="/template/Back/Dashboard.jsf" value="Dashboard" />
                        <b:navLink href="/template/Back/Back.jsf" value="Users"  />
                        <b:navLink href="/template/Back/gereStock.jsf" value="Stocks"  active="true"/>
                        <b:navLink href="/template/Back/gereRayon.jsf" value="Rayons"  />
                        <b:navLink href="/template/Back/gereCategory.jsf" value="Categories"  />
				</b:listLinks>
				<b:listLinks>
					<b:navLink value="Product" />
					<b:navLink value="Nav item again" />
					<b:navLink value="One more nav" />
					<b:navLink value="Another nav item" />
					<b:navLink value="More navigation" />
				</b:listLinks>
				<b:listLinks>
					<b:navLink value="Nav item again" />
					<b:navLink value="One more nav" />
					<b:navLink value="Another nav item" />
				</b:listLinks>
			</b:column>
			<b:column col-sm="9" offset-sm="3" col-md="10" offset="2"
				styleClass="main">
				<hr />
				<center><h1>Stocks List</h1></center>
				<hr />

														 <!-- Show Stocks -->
														 <center>
				<h:panelGroup columns="2" style="margin: 0 auto;" layout="block">
					<h:form>
						<h:commandButton  class="btn btn-warning" action="#{stockController.getAllStocks()}"
							value="Show by Id Stock" />
						<h:commandButton  class="btn btn-warning" action="#{stockController.triByAmount()}"
							value="Show by Amount" />
						<h:commandButton  class="btn btn-warning" action="#{stockController.triByQtee()}"
							value="Show by Stock In" />
						<h:commandButton  class="btn btn-warning" action="#{stockController.triByQtes()}"
							value="Show by Stock out" />
							
					</h:form>
					<br/>
					<h:form>
					<b:row styleClass="table-responsive">
				
						<b:dataTable  id="tb1" styleClass="table table-striped" value="#{stockController.stocks}" var="stock" rows="15" >

							<b:dataTableColumn>
								<f:facet name="header">
									<h:outputText value="Stock id" />
								</f:facet>
								<h:outputText value="#{stock.id}" />
							</b:dataTableColumn>
							<b:dataTableColumn>
								<f:facet name="header">
									<h:outputText value="Amount" />
								</f:facet>
								<h:outputText value="#{stock.amount}" />
							</b:dataTableColumn>
							<b:dataTableColumn>
								<f:facet name="header">
									<h:outputText value="Stock in" />
								</f:facet>
								<h:outputText value="#{stock.qtee}" />
							</b:dataTableColumn>
							<b:dataTableColumn>
								<f:facet name="header">
									<h:outputText value="Stock out" />
								</f:facet>
								<h:outputText value="#{stock.qtes}" />
							</b:dataTableColumn>
							<b:dataTableColumn>
								<f:facet name="header">
									<h:outputText value="Produit" />
								</f:facet>
								<h:outputText value="#{stock.p.nom_produit}" />
							</b:dataTableColumn>
							<b:dataTableColumn>
								<f:facet name="header">
									<h:outputText value="Action" />
								</f:facet>
								<h:commandButton
									action="#{stockController.deleteStock(stock.id)}"
									value="Delete" class="btn btn-danger" />
							</b:dataTableColumn>
							<b:dataTableColumn>
								<f:facet name="header">
									<h:outputText value="Action" />
								</f:facet>
								<h:commandButton action="#{stockController.displayStock(stock)}"
									value="Show" class="btn btn-primary" />
							</b:dataTableColumn>
						</b:dataTable>
					
					</b:row>
					</h:form>
						
								
				</h:panelGroup>
				</center>
 
				
				<br />

                                                           <!-- Increase / Decrease -->
                 <hr />
				<center><h1>Manipulate Stocks Amount</h1></center>
				<hr />
				
                <center>                                    
				<h:panelGroup columns="2" style="width: 30%;margin: 0 auto;" layout="block">
				<tr><td>
					<h:form>
						<tr>
							<b:selectOneMenu value="#{stockController.st.id}" required="true" label="Increase">
							 <f:facet name="prepend">
         						 <b:iconAwesome name="barcode" />
       						 </f:facet>
     						     <f:selectItems value="#{stockController.getAllStocks()}" var="s" itemValue="#{s.id}" itemLabel="#{s.id}" />
     						     <f:facet name="append">
        						   <b:iconAwesome name="list" />
        						 </f:facet>
    					     </b:selectOneMenu>
							<b:inputText placeholder="Amount"   value="#{qte}" required="true" type="number" min="1">
									<f:facet name="prepend">
      								<b:icon value="arrow-up" />
    								</f:facet>
 								</b:inputText>
						</tr>
						<tr>
							<td colspan="2">
							
							<h:commandButton class="btn btn-info" value="Increase Stock" 
									action="#{stockController.increaseStock(qte,stockController.st.id)}" />
									
							</td>
						</tr>
					</h:form>
					</td>
					<td>
					<br/>
					<h:form>
						<tr>
							<b:selectOneMenu value="#{stockController.st.id}" required="true" label="Decrease">
							 <f:facet name="prepend">
         						 <b:iconAwesome name="barcode" />
       						 </f:facet>
     						     <f:selectItems value="#{stockController.getAllStocks()}" var="s" itemValue="#{s.id}" itemLabel="#{s.id}" />
     						     <f:facet name="append">
        						   <b:iconAwesome name="list" />
        						 </f:facet>
    					     </b:selectOneMenu>
							<b:inputText placeholder="Amount"   value="#{qte}" required="true" type="number" min="1">
									<f:facet name="prepend">
      								<b:icon value="arrow-down" />
    								</f:facet>
 								</b:inputText>
 								<b:message for="@previous" />
						</tr>
						<tr>
							<td colspan="2">
							<h:commandButton class="btn btn-info" value="Decrease Stock"
									action="#{stockController.decreaseStock(qte,stockController.st.id)}" />
									
							</td>
						</tr>
						<tr>
						<h:form rendered="#{stockController.result != ''}">
						<b:alert severity="danger"><strong>Be Careful !</strong> #{stockController.result}</b:alert>
							</h:form>
						</tr>
					</h:form>
					</td></tr>
				</h:panelGroup>
				</center>
				<br />
				<br />
				
														
														<!-- ADD or UPDATE a SROCK -->
														<hr />
				<center><h1>Add Or Update a Stock</h1></center>
				<hr />
						<center>								
				<h:panelGroup columns="2" style="width: 50%;margin: 0 auto;" layout="block">
					<h:form>
						<table>
							<tr>
							<b:selectOneMenu value="#{stockController.st.id}"  label="ID">
							 <f:facet name="prepend">
         						 <b:iconAwesome name="barcode" />
       						 </f:facet>
       						     <f:selectItem itemLabel="Add New Stock" itemValue="" />
     						     <f:selectItems value="#{stockController.getAllStocks()}" var="s" itemValue="#{s.id}" itemLabel="#{s.id}" />
     						     <f:facet name="append">
        						   <b:iconAwesome name="list" />
        						 </f:facet>
    					     </b:selectOneMenu>
							</tr>
							<tr>
								<b:inputText value="#{stockController.st.amount}"  type="number" required="true" label="Amount">
									<f:facet name="prepend">
      								<b:icon value="stats" />
    								</f:facet>
 								</b:inputText>
								
							</tr>
							<tr>
								<b:inputText required="true" type="number"  label="Stock In"  value="#{stockController.st.qtee}">
									<f:facet name="prepend">
      								<b:icon value="cloud-upload" />
    								</f:facet>
 								</b:inputText>
								
							</tr>
							<tr>
								<b:inputText  required="true" label="Stock Out" type="number" value="#{stockController.st.qtes}">
									<f:facet name="prepend">
      								<b:icon value="cloud-download" />
    								</f:facet>
 								</b:inputText>
								
							</tr>
							<tr>
								<b:inputText placeholder="ProduitId" required="true" label="Produit"  type="number" value="#{stockController.id_produit}">
									<f:facet name="prepend">
      								<b:icon value="grain" />
    								</f:facet>
 								</b:inputText>
							
							</tr>
							
							<tr>
								<td colspan="2"><h:commandButton class="btn btn-success"  value="Add / Update Stock"
										action="#{stockController.addStock()}" /></td>
										
								</tr>
								<tr>
								<h:form rendered="#{stockController.result2 == 'Stock has be added Succesfuly !!'}">
						<b:alert severity="success"><strong>Well done!</strong> #{stockController.result2}</b:alert>
							</h:form>
							<h:form rendered="#{stockController.result2 == '(Amount + Stock Out) must be equal to (Stock In)'}">
						<b:alert severity="danger"><strong>Be Careful !</strong> #{stockController.result2}</b:alert>
							</h:form>
							</tr>

						</table>
					</h:form>
				</h:panelGroup>
				</center>

			</b:column>
		</b:row>
	</b:container>
	<style type="text/css">
.sub-header {
	border-bottom: 1px solid #eee;
	padding-bottom: 10px;
}

.navbar-fixed-top {
	border: 0 none;
}

.sidebar {
	display: none;
}

@media ( min-width : 768px) {
	.sidebar {
		background-color: #f5f5f5;
		border-right: 1px solid #eee;
		bottom: 0;
		display: block;
		left: 0;
		overflow-x: hidden;
		overflow-y: auto;
		padding: 20px;
		position: fixed;
		top: 51px;
		z-index: 1000;
	}
}

.nav-list {
	margin-bottom: 20px;
	margin-left: -20px;
	margin-right: -21px;
}

.nav-list>li>a {
	padding-left: 20px;
	padding-right: 20px;
}

.nav-list>.active>a, .nav-sidebar>.active>a:hover, .nav-sidebar>.active>a:focus
	{
	background-color: #428bca;
	color: #fff;
}

.main {
	padding: 20px;
}

@media ( min-width : 768px) {
	.main {
		padding-left: 40px;
		padding-right: 40px;
	}
}

.main .page-header {
	margin-top: 0;
}

.placeholders {
	margin-bottom: 30px;
	text-align: center;
}

.placeholders h4 {
	margin-bottom: 0;
}

.placeholder {
	margin-bottom: 20px;
}

.placeholder img {
	border-radius: 50%;
	display: inline-block;
}
</style>
</h:body>
</html>


